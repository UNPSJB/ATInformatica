{% extends "principal.html" %}

{% block contenido %}
<div class="col-md-12 col-sm-12 col-xs-12">
  <div class="x_panel">
    <div class="x_title">
      <h2>Rubros</h2>
      <ul class="nav navbar-right panel_toolbox">
        <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="#">Settings 1</a>
            </li>
            <li><a href="#">Settings 2</a>
            </li>
          </ul>
        </li>
      </ul>
      <div class="clearfix"></div>
    </div>
    <div class="x_content">
      <table id="datatable-rubros" {% if perms.rubro.add_rubro %}data-url_agregar="{% url 'rubro:rubro_crear' %}"{% endif %} class="table table-striped table-bordered">
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Descripci√≥n</th>

            <th>Ver tipos de tarea</th>
            
            {% if perms.rubro.change_rubro %}
            <th>Editar</th>
            {% endif %}
            {% if perms.rubro.delete_rubro %}
            <th>Eliminar</th>
            {% endif %}
          </tr>
        </thead>


        <tbody>
          {% if object_list %}
          {% for rubro in object_list %}
            <tr>
              <td>{{ rubro.nombre }}</td>
              <td>{{ rubro.descripcion }} </td>

              {% if perms.rubro.change_rubro %}
              <td>
                <a href="{% url 'rubro:tipo_tarea_crear' rubro.id %}">
                  <i class="fa fa-eye"></i>
                </a>
              </td>
              {% endif %}



              {% if perms.rubro.change_rubro %}              
              <td>
                <a href="{% url 'rubro:rubro_editar' rubro.id %}"><i class="fa fa-edit"></i></a>
              </td>
              {% endif %}
              {% if perms.rubro.delete_rubro %}              
              <td>
                <a href="{% url 'rubro:rubro_eliminar' rubro.id %}"><i class="fa fa-trash"></i></a>
              </td>
              {% endif %}
            </tr>
          
          {% endfor %}
          {% else %}

          <h1>No hay rubros registrados</h1>

          {% endif %}  

        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock contenido %}

{% block scripts %}
  <!-- Datatables -->
  <script src="/static/vendors/datatables.net/js/jquery.dataTables.min.js"></script>
  <script src="/static/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
  <script src="/static/vendors/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
  <script src="/static/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
  <script src="/static/vendors/datatables.net-buttons/js/buttons.flash.min.js"></script>
  <script src="/static/vendors/datatables.net-buttons/js/buttons.html5.min.js"></script>
  <script src="/static/vendors/datatables.net-buttons/js/buttons.print.min.js"></script>
  <script src="/static/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js"></script>
  <script src="/static/vendors/datatables.net-keytable/js/dataTables.keyTable.min.js"></script>
  <script src="/static/vendors/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
  <script src="/static/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js"></script>
  <script src="/static/vendors/datatables.net-scroller/js/dataTables.scroller.min.js"></script>
  <script src="/static/vendors/jszip/dist/jszip.min.js"></script>
  <script src="/static/vendors/pdfmake/build/pdfmake.min.js"></script>
  <script src="/static/vendors/pdfmake/build/vfs_fonts.js"></script>
  
  <script src="/static/rubro/js/rubros.js"></script>
{% endblock scripts %}